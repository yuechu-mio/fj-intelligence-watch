<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>话筒插播</title>
        <link rel="stylesheet" href="../css/Microphone.css">
	</head>
	<body>
		<div id="main">
			<!-- 下拉选择器 -->
			<div class="select-device">
                <div id="content">选择播放设备
                </div>
                <img id="selectImg" src="../images/icon_select1.png" alt="">
                <div id="selectItem">
                    <!--  <ul>
                        <li data-value="1">北京</li>
                        <li data-value="2">上海</li>
                        <li data-value="3">深圳</li>
                      </ul>-->
                </div>
			</div>
			<!-- 播放按钮 -->
			<div class="play-btn" id="micBtn">
                <img id="btn" src="../images/mic.png" alt="">
            </div>
		</div>
	</body>
<script>
	let data = [{name:'科高路创立大厦',value:'1'},{name:'昆明测试',value:'2'},{name:'丽江测试',value:'3'}]
	let content = document.getElementById('content');
	let selectImg = document.getElementById('selectImg');
	let selectItem = document.getElementById('selectItem');

	let ul = document.createElement('ul');
    selectItem.appendChild(ul);
    for(let i = 0; i < data.length; i++){
			let li = document.createElement('li');
    li.setAttribute('data-value',data[i].value);
    li.innerText = data[i].name;
    ul.appendChild(li);
    }
    /**
    * 点击下拉箭头
    */
    selectImg.onclick = function () {
    console.log(selectItem.style.display);
    if(selectItem.style.display == 'none' || selectItem.style.display == ''){
    selectItem.style.display = 'block';
    }else{
    selectItem.style.display = 'none';
    }

    }

    content.onclick = function () {
    if(selectItem.style.display == 'none' || selectItem.style.display == ''){
    selectItem.style.display = 'block';
    }else{
    selectItem.style.display = 'none';
    }
    }

	let lis = selectItem.getElementsByTagName('li');
    for(let i = 0; i < lis.length; i++){
    lis[i].onclick = function () {
    console.log(this.innerHTML,this.getAttribute('data-value'));
    content.innerText = this.innerHTML;
    selectItem.style.display = 'none';
    }
    }
//    点击话筒按钮，切换状态
	let micBtn = document.getElementById('micBtn');
	let btn = document.getElementById('btn');
    // alert(JSON.stringify(micBtn));
	let count = 0;
    micBtn.onclick = function(){
    	console.log(btn.src);
    	count++;
    	count%2!==0?btn.src="../images/mic_active.png":btn.src="../images/mic.png";
    }
</script>
</html>
